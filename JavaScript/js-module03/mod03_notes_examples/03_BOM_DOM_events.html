<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Moduuli 3</title>
    <script src="03_BOM_DOM_events.js" defer></script>
    <style>
        .text {
            color: darkblue;
        }

        p {
            font-size: 18px;
        }

        .test {
            color: #D61A6F;
        }

        .hidden {
            display: none;
        }

    </style>
</head>

<body>
<header>
    <h1>Moduuli 3 - muistiinpanoja</h1>
</header>
<main>
    <p>BOM, DOM, events</p>
    <p class="text hidden">Avaa kehitystyökalut!</p>
    <p id="output">Some text here</p>
    <div id="list"></div>
    <button id="print">Järjestä ja tulosta lista</button>
    <button id="add">Lisää asia</button>
</main>

<!-- retrieving the user's location information and displaying it using OpenStreetMap and Leaflet.js -->
<div id="map" style="width: 100%; height: 400px;"></div>

<link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
<script>
    // Options for retrieving location information (optional)
    const options = {
      enableHighAccuracy: true,
      timeout: 5000,
      maximumAge: 0
    };

    // A function that is called when location information is retrieved
    function success(pos) {
      const crd = pos.coords;

      // Printing location information to the console
      console.log('Your current position is:');
      console.log(`Latitude : ${crd.latitude}`);
      console.log(`Longitude: ${crd.longitude}`);
      console.log(`More or less ${crd.accuracy} meters.`);

      // Use the leaflet.js library to show the location on the map (https://leafletjs.com/)
      const map = L.map('map').setView([crd.latitude, crd.longitude], 13);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
      }).addTo(map);

      L.marker([crd.latitude, crd.longitude]).addTo(map)
      .bindPopup('I am here.')
      .openPopup();
    }

    // Function to be called if an error occurs while retrieving location information
    function error(err) {
      console.warn(`ERROR(${err.code}): ${err.message}`);
    }

    // Starts the location search
    navigator.geolocation.getCurrentPosition(success, error, options);
</script>
<footer>
    Copyright oppilas 2024.
</footer>
</body>
</html>